version: 0.1
frontend:
    phases:
        preBuild:
            commands:
                - yarn add react-app-rewired
        build:
            commands:
                - REACT_APP_GET_BUILD_STATUS_API_KEY=$REACT_APP_GET_BUILD_STATUS_API_KEY REACT_APP_EDIT_API_KEY=$REACT_APP_EDIT_API_KEY REACT_APP_S3_ACCESS_KEY_ID=$REACT_APP_S3_ACCESS_KEY_ID REACT_APP_S3_SECRET_ACCESS_KEY=$REACT_APP_S3_SECRET_ACCESS_KEY REACT_APP_COGNITO_ACCESS_KEY_ID=$REACT_APP_COGNITO_ACCESS_KEY_ID REACT_APP_COGNITO_SECRET_ACCESS_KEY=$REACT_APP_COGNITO_SECRET_ACCESS_KEY yarn build
    artifacts:
        baseDirectory: build
        files:
            - '**/*'
    cache:
        paths:
            - 'node_modules/**/*'
